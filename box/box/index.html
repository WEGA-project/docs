
<!DOCTYPE html>

<html class="no-js" lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width,initial-scale=1" name="viewport"/>
<link href="https://wega-project.github.io/wiki/box/box/" rel="canonical"/>
<link href="../../server/manual_install/" rel="prev"/>
<link href="../../3d/ec/" rel="next"/>
<link href="../../assets/favicon.ico" rel="icon"/>
<meta content="mkdocs-1.4.2, mkdocs-material-9.1.6" name="generator"/>
<title>Описание - WEGA-project</title>
<link href="../../assets/stylesheets/main.ded33207.min.css" rel="stylesheet"/>
<link href="../../assets/stylesheets/palette.a0c5b2b5.min.css" rel="stylesheet"/>
<link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect"/>
<link href="https://fonts.googleapis.com/css?family=Ubuntu:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&amp;display=fallback" rel="stylesheet"/>
<style>:root{--md-text-font:"Ubuntu";--md-code-font:"Roboto Mono"}</style>
<link href="../../stylesheets/extra.css" rel="stylesheet"/>
<script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
<link href="../../assets/stylesheets/glightbox.min.css" rel="stylesheet"/><style>
            html.glightbox-open { overflow: initial; height: 100%; }
            .gslide-title { margin-top: 0px; user-select: text; }
            .gslide-desc { color: #666; user-select: text; }
            .gslide-image img { background: white; }
            
                .gscrollbar-fixer { padding-right: 15px; }
                .gdesc-inner { font-size: 0.75rem; }
                body[data-md-color-scheme="slate"] .gdesc-inner { background: var(--md-default-bg-color);}
                body[data-md-color-scheme="slate"] .gslide-title { color: var(--md-default-fg-color);}
                body[data-md-color-scheme="slate"] .gslide-desc { color: var(--md-default-fg-color);}
                </style><script src="../../assets/javascripts/glightbox.min.js"></script></head>
<body data-md-color-accent="blue" data-md-color-primary="green" data-md-color-scheme="default" dir="ltr">
<script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
<input autocomplete="off" class="md-toggle" data-md-toggle="drawer" id="__drawer" type="checkbox"/>
<input autocomplete="off" class="md-toggle" data-md-toggle="search" id="__search" type="checkbox"/>
<label class="md-overlay" for="__drawer"></label>
<div data-md-component="skip">
<a class="md-skip" href="#i">
          Skip to content
        </a>
</div>
<div data-md-component="announce">
</div>
<header class="md-header md-header--shadow" data-md-component="header">
<nav aria-label="Header" class="md-header__inner md-grid">
<a aria-label="WEGA-project" class="md-header__button md-logo" data-md-component="logo" href="../.." title="WEGA-project">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M6.5 20q-2.28 0-3.89-1.57Q1 16.85 1 14.58q0-1.95 1.17-3.48 1.18-1.53 3.08-1.95.63-2.3 2.5-3.72Q9.63 4 12 4q2.93 0 4.96 2.04Q19 8.07 19 11q1.73.2 2.86 1.5 1.14 1.28 1.14 3 0 1.88-1.31 3.19T18.5 20Z"></path></svg>
</a>
<label class="md-header__button md-icon" for="__drawer">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"></path></svg>
</label>
<div class="md-header__title" data-md-component="header-title">
<div class="md-header__ellipsis">
<div class="md-header__topic">
<span class="md-ellipsis">
            WEGA-project
          </span>
</div>
<div class="md-header__topic" data-md-component="header-topic">
<span class="md-ellipsis">
            
              Описание
            
          </span>
</div>
</div>
</div>
<form class="md-header__option" data-md-component="palette">
<input aria-label="Switch to dark mode" class="md-option" data-md-color-accent="blue" data-md-color-media="" data-md-color-primary="green" data-md-color-scheme="default" id="__palette_1" name="__palette" type="radio"/>
<label class="md-header__button md-icon" for="__palette_2" hidden="" title="Switch to dark mode">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"></path></svg>
</label>
<input aria-label="Switch to light mode" class="md-option" data-md-color-accent="teal" data-md-color-media="" data-md-color-primary="green" data-md-color-scheme="slate" id="__palette_2" name="__palette" type="radio"/>
<label class="md-header__button md-icon" for="__palette_1" hidden="" title="Switch to light mode">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12c0-2.42-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"></path></svg>
</label>
</form>
<label class="md-header__button md-icon" for="__search">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"></path></svg>
</label>
<div class="md-search" data-md-component="search" role="dialog">
<label class="md-search__overlay" for="__search"></label>
<div class="md-search__inner" role="search">
<form class="md-search__form" name="search">
<input aria-label="Search" autocapitalize="off" autocomplete="off" autocorrect="off" class="md-search__input" data-md-component="search-query" name="query" placeholder="Search" required="" spellcheck="false" type="text"/>
<label class="md-search__icon md-icon" for="__search">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"></path></svg>
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"></path></svg>
</label>
<nav aria-label="Search" class="md-search__options">
<button aria-label="Clear" class="md-search__icon md-icon" tabindex="-1" title="Clear" type="reset">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"></path></svg>
</button>
</nav>
</form>
<div class="md-search__output">
<div class="md-search__scrollwrap" data-md-scrollfix="">
<div class="md-search-result" data-md-component="search-result">
<div class="md-search-result__meta">
            Initializing search
          </div>
<ol class="md-search-result__list" role="presentation"></ol>
</div>
</div>
</div>
</div>
</div>
<div class="md-header__source">
<a class="md-source" data-md-component="source" href="https://github.com/WEGA-project/wiki" title="Go to repository">
<div class="md-source__icon md-icon">
<svg viewbox="0 0 448 512" xmlns="http://www.w3.org/2000/svg"><!--! Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"></path></svg>
</div>
<div class="md-source__repository">
    GitHub
  </div>
</a>
</div>
</nav>
</header>
<div class="md-container" data-md-component="container">
<main class="md-main" data-md-component="main">
<div class="md-main__inner md-grid">
<div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav aria-label="Navigation" class="md-nav md-nav--primary" data-md-level="0">
<label class="md-nav__title" for="__drawer">
<a aria-label="WEGA-project" class="md-nav__button md-logo" data-md-component="logo" href="../.." title="WEGA-project">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M6.5 20q-2.28 0-3.89-1.57Q1 16.85 1 14.58q0-1.95 1.17-3.48 1.18-1.53 3.08-1.95.63-2.3 2.5-3.72Q9.63 4 12 4q2.93 0 4.96 2.04Q19 8.07 19 11q1.73.2 2.86 1.5 1.14 1.28 1.14 3 0 1.88-1.31 3.19T18.5 20Z"></path></svg>
</a>
    WEGA-project
  </label>
<div class="md-nav__source">
<a class="md-source" data-md-component="source" href="https://github.com/WEGA-project/wiki" title="Go to repository">
<div class="md-source__icon md-icon">
<svg viewbox="0 0 448 512" xmlns="http://www.w3.org/2000/svg"><!--! Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"></path></svg>
</div>
<div class="md-source__repository">
    GitHub
  </div>
</a>
</div>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../..">
        Описание
      </a>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_2" type="checkbox"/>
<label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
          WEGA Server
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_2_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_2">
<span class="md-nav__icon md-icon"></span>
          WEGA Server
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../server/install/">
        Как установить
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../server/auto_install/">
        Установка через скрипт
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../server/manual_install/">
        Ручная установка
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--active md-nav__item--nested">
<input checked="" class="md-nav__toggle md-toggle" id="__nav_3" type="checkbox"/>
<label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
          WEGABOX
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="true" aria-labelledby="__nav_3_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_3">
<span class="md-nav__icon md-icon"></span>
          WEGABOX
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item md-nav__item--active">
<input class="md-nav__toggle md-toggle" id="__toc" type="checkbox"/>
<label class="md-nav__link md-nav__link--active" for="__toc">
          Описание
          <span class="md-nav__icon md-icon"></span>
</label>
<a class="md-nav__link md-nav__link--active" href="./">
        Описание
      </a>
<nav aria-label="Table of contents" class="md-nav md-nav--secondary">
<label class="md-nav__title" for="__toc">
<span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
<ul class="md-nav__list" data-md-component="toc" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="#i">
    I. Назначение
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#ii">
    II. Датчики
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#iii">
    III. Схема, комплектующие и печатные платы
  </a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_4" type="checkbox"/>
<label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
          3D Модели
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_4_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_4">
<span class="md-nav__icon md-icon"></span>
          3D Модели
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../3d/ec/">
        ЕС
      </a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</div>
</div>
</div>
<div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav aria-label="Table of contents" class="md-nav md-nav--secondary">
<label class="md-nav__title" for="__toc">
<span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
<ul class="md-nav__list" data-md-component="toc" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="#i">
    I. Назначение
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#ii">
    II. Датчики
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#iii">
    III. Схема, комплектующие и печатные платы
  </a>
</li>
</ul>
</nav>
</div>
</div>
</div>
<div class="md-content" data-md-component="content">
<article class="md-content__inner md-typeset">
<h1>Описание</h1>
<h2 id="i">I. Назначение</h2>
<p>Что же такое <strong>WEGABOX</strong>?</p>
<p>WEGABOX это отдельное устройство и элемент экосистемы WEGA, по сбору и управлению параметрами гидропонной установки. В первую очередь он разработан для применения с замкнутыми гидропонными системами (далее система) такими как <strong>DNFT</strong>, <strong>NFT</strong>, <strong>Dutch Bucket</strong> и аналогичными системами, WEGABOX <u><strong>НЕ ПОДХОДИТ</strong></u> для систем капельного полива, так как в данных системах возможно использование только малой части его функционала. </p>
<p>WEGABOX позволяет получать и контролировать следующие параметры системы:</p>
<p>1.Микроклимат:</p>
<pre><code>1.1. Температура и влажность воздуха;
1.2. Освещенность;
1.3. Атмосферное давление;
1.4. Концентрация содержания CO2 в воздухе.
</code></pre>
<p>2.Раствор:</p>
<pre><code>2.1. EC раствора;
2.2. Температура раствора в баке;
2.3. PH раствора;
2.4. Температура раствора в корневой зоне растений;
2.5. Объем раствора в баке.
</code></pre>
<p>3.Расчетные параметры:</p>
<pre><code>3.1. Расход солей в сутки;
3.2. Изменение каждого параметра в сутки;
3.3. Построение графиков;
3.4. Отображение параметров раствора на миниатюрном экране.
</code></pre>
<p><strong>WEGABOX</strong> не полностью самостоятельное устройство, он работает только в связке с <strong>WEGA-Server</strong>, передает данные на него и получает в ответ калибровочные значения для датчиков, которые позволяют ему в случае отсутствия связи с сервером работать автономно.</p>
<p>Вывод информации с датчиков осуществляется в WEB интерфейсе (Рисунок 1) на который можно зайти по IP адресу Вегабокса, на сервере (Рисунок 2) а также на компактном LCD экране (Рисунок 3), который подключается по  шине i2c, экран можно установить как рядом с Wegabox так и в любом удобном месте.</p>
<p><strong>&lt;Вставить ссылку на рисунок&gt;</strong></p>
<p>Рисунок 1. WEB интерфейс WEGABOX</p>
<p><strong>&lt;Вставить ссылку на рисунок&gt;</strong></p>
<p>Рисунок 2. WEGA-Server</p>
<p><strong>&lt;Вставить ссылку на рисунок&gt;</strong></p>
<p>Рисунок 3. LCD экран</p>
<p>Помимо сбора данных с датчиков и их обработки WEGABOX может выполнять функции контроля и управления гидропонной системой:
- Отключение/включение помпы при превышении температуры раствора над температурой окружающего воздуха, чтобы исключить появления эффекта растрескавшихся стволов растений из-за изменений корневого давления;
- Поддержания заданного уровня EC раствора путем долива чистой/дистиллированной/осмосной воды в бак с раствором;
- Долив концентратов А и Б в раствор для пополнения съеденных растением солей (<strong>данная функция на текущем этапе находится на этапе тестирования и обкатки</strong>);
- Управление освещением гидропонной установки по таймеру (<strong>функционал, заложенный в WEGABOX в качестве развития, сейчас он еще не реализован</strong>);
- Возможность видео и фото фиксации роста растений с привязкой данных от датчиков (<strong>функционал, заложенный в WEGABOX в качестве развития, сейчас он еще не реализован</strong>);
- Управление другими исполнительными устройствами по заданным алгоритмам
- Можете предложить свои варианты в разделе чата посвященному экосистеме <strong>WEGA</strong> – <a href="https://t.me/WEGA_SERVER/20895"><strong>«Фонтан идей»</strong></a>.</p>
<p>Важно понимать, <strong>WEGABOX</strong>, как и вся экосистема WEGA не вырастит за вас растение, как волшебное средство, он позволит взять на себя рутинную работу по измерению параметров и ведению статистики, позволит избежать и предотвратить ошибки с раствором, возьмёт на себя часть функций по управлению, но в первую очередь это современный инструмент, для гидропоники который нужно знать и правильно им пользоваться. </p>
<h2 id="ii">II. Датчики</h2>
<p>Датчики в Wegabox могут быть самодельными (EC, PR), полупромышленными (AHT10/20, US-025, SDS-30) и полностью промышленными (DS18B20), но независимо от способа их изготовления на каждый датчик нужно припаять штекер Jack 3.5 мм на 4 контакта (4 pin). Ниже представлено описание каждого датчика его назначение, и варианты исполнения. </p>
<p><strong>1.Датчик температуры и влажности воздуха</strong> - Служит для измерения параметров окружающего воздуха, данные передаются в Wegabox по шине i2c. Не требует калибровки, после включения сразу начинает передавать данные на сервер. На Рисунке 4 показан один из вариантов датчика на базе модуля AHT10. В качестве датчика могут использоваться следующие устройства:</p>
<p><strong>1.1. AHT10</strong> – цифровой датчик, измеряет температуру в диапазоне от -40 до +85 градусов Цельсия с точностью ±0,3 градуса, влажность от 0% ÷ 100% с точностью ±2%. Для датчика разработана 3D модель корпуса, которую можно скачать по ссылке - <strong>&lt;Ссылка на 3D модель корпуса&gt;</strong> и распечатать на 3D принтере;</p>
<p><strong>1.2. AHT20</strong> – аналогичный AHT10 датчик, но более стабильно работающий на шине i2c. Корпус для датчика используется такой же как и для <strong>AHT10</strong>;</p>
<p><strong>1.3. SDC30</strong> – это датчик концентрации СО2 в воздухе (более подробно о нем ниже), но он также измеряет температуру и влажность воздуха, что позволяет два датчика заменить одним не увеличивая количество разъемов на WEGABOX. Для датчика разработана 3D модель корпуса, которую можно скачать по ссылке - <strong>&lt;Ссылка на 3D модель корпуса&gt;</strong> и распечатать на 3D принтере. </p>
<p><strong>&lt;Вставить ссылку на рисунок&gt;</strong></p>
<p>Рисунок 4. Датчик температуры и влажности воздуха</p>
<p><strong>2.Датчик температуры в зоне корней</strong> - это герметичный датчик который показывает температуру раствора гидропонной системы непосредственно в корневой зоне, помимо основного назначение, данный датчик служит для калибровки терморезистора EC датчика. Не требует калибровки и после включения сразу начинает передавать данные на сервер. Данные в Wegabox передаются по шине 1-wire, В качестве датчка используется промышленный датчик DS18B20 установленный в металлическую гильзу и залитый компаундом. Внешний вид датчика показан на Рисунке 5.</p>
<p><strong>&lt;Вставить ссылку на рисунок&gt;</strong></p>
<p>Рисунок 5. Датчик температуры раствора в зоне корней</p>
<p><strong>3.Датчик EC раствора (кондуктометр)</strong> - датчик позволяет определять соленость раствора в мсм/см2 с учетом температуры раствора, для этого в его конструкции предусмотрен терморезистор на 100 кОм, датчик является аналоговым и требует калировки, калибровка проводится в 2 этапа - смотри раздел <strong>&lt;Калибровка EC Датчика&gt;</strong>. В процессе работы каблибровку датчика нужно переодически проверять (штатно 1 раз в 2-3 месяца). Датчик является самодельным, для его изготволения потребуются электроды из нержавеющей стали (в качестве элеткродов можно использовать иглы от медицинского шприца 5-10 мл), терморезистор марки NTC 3950 на 100 кОм, четырех проводный кабель сечением 0,35-0,5 мм2, корпус напечатанный на 3D принтере (3D модельку корпуса можно скачать вот здесь - <strong>&lt;Ссылка на 3D модель корпуса&gt;</strong>) и штекер Jack 3.5 мм на 4 контакта (4 pin). Для упрощения работ можно использовать заводской кабель с штекером от удлинителя наушников обрезав его с одной стороны. Технологию изготовления датчика EC можно посмотреть в Мастерской - <strong>&lt;Ссылка на изготовление EC датчика &gt;</strong>. На рисунке 6 показаны различные варианты исполнения EC датчика. В последнее время на Алиэкспрессе появились ЕС датчики заводского исполнения <strong>&lt;Ссылка на лот&gt;</strong>, основные их особенности в том что у них короткий кабель (не более 0,5-1,0 м) и терморезистор используется на 10 кОм, что потребует замены в Wegabox ответного резистора со 100 кОм на 10 кОм.</p>
<p><strong>&lt;Вставить ссылку на рисунок&gt;</strong></p>
<p>Рисунок 6. Датчик EC раствора</p>
<p><strong>4.Датчик PH раствора</strong> - предназначен для определения показателя PH раствора, устанавливается в бак с раствором. Данный датчик является полностью заводским, его не нужно дорабатывать или припаивать к нему штекер, готов к использованию из коробки. Датчик является аналоговым и требует калибровки, процесс калибровки расписан в разделе настройки WEGA SERVER - смотри раздел <strong>&lt;Калибровка PH Датчика&gt;</strong>. Внешний вид датчика пока рисунке 7.</p>
<p><strong>&lt;Вставить ссылку на рисунок&gt;</strong></p>
<p>Рисунок 7. Датчик PH раствора</p>
<p><strong>5.Датчик уровня раствора в баке</strong> - служит для определения остатка раствора в баке в гидропонной системе. Устанавливается на бак, показывает расстояние в см от датчика до уровня раствора. В зависимости от типа датчика устанавливаются либа сразу в бак (US-025) либо в трубу (лазерный датчик).  Независимо от типа датчика ему требуется калибровка, процесс калибровки расписан в разделе настройки WEGA SERVER - смотри раздел <strong>&lt;Калибровка Датчика уровня раствора&gt;</strong>. В качестве датчика могут использоваться следующие устройства:</p>
<p><strong>5.1. Ультразвуковой датчик US-025 (или аналогичный по характеристикам)</strong> - является аналогово-цифровым и подключается к своему разъему в Вегабоксе по интерфейсу GPIO, работает на принцепе отражения ультразвуковой волны от поверхности раствора. Питание датчика +3В - +5В. Пределы измерений от 5 см до 300 см, погрешность измерений ±4 мм, из за этого данный датчк не рекомендуется использовать в широких и низких баках. По опыту эксплуатации, ультразвуковой модуль US-025 стабильние работает в баках прямоугольной конструкции с минимальными скруглениями в углах, в более округлых баках датчик тоже будет работать, но возможны выбросы показаний, из за чего придется при настройке загрублять его показания что отразиться на точности измерений. Датчик устанавливается в корпус, 3D модель корпуса можно скачать вот тут <strong>&lt;Ссылка на 3D модель корпуса US-025&gt;</strong>. Внешний вид датчика показан на рисунке 8.</p>
<p><strong>&lt;Вставить ссылку на рисунок&gt;</strong></p>
<p>Рисунок 8. Внешний вид датчика US-025 в корпусе и без</p>
<p><strong>5.2. Лазерный датчик VL6180X/VL53L0X/VL53L1X</strong> - является аналогово-цифровым и подключается к тому же разъему в Вегабоксе что и US-025 по интерфейсу i2c либо через разветвитель в разъем i2c (датчик AHT10).  Датчик работает на принципе отражения лазерного луча от поплавка, который помещен в вертикальную трубу. Питание датчика +3В - +5В. Рабочие пределы измерений: VL6180X - 2...50 см; VL53L0X - 2...200 см; VL53L1X - 2...400 см. Погрешность измерений ±1 мм. Для установки датчика требуется поместить его в вертикальную чернтую трубу диаметром 40 мм, в качестве отражателя используется напечатанный на 3D принтере полавок, для стабильной работы на верхнюю поверхность нужно наклеить отражатель изготовленный из CD диска, также для исключения залипания, в попловок нужно установить грузик. При печати трубы на 3D принтере, нужно печатать её в режиме вазы в 1 слой по спирали (данные настройки задаются в слайсере 3D печати). 3D модели корпуса датчика, трубы и поплавка можно скачать вот тут <strong>&lt;Ссылка на 3D модель деталей лазерного датчика&gt;</strong>. Внешний вид датчика показан на рисунке 9.  </p>
<p><strong>&lt;Вставить ссылку на рисунок&gt;</strong></p>
<p>Рисунок 9. Внешний вид лазерного датчика</p>
<p><strong>6.Датчик освещенности PR</strong> - Прелназначен для определения освещенности. Датчик является аналоговым и подключается к своему разъему в Вегабоксе. После подключения к Вегабоксу требует калибровки - смотри раздел <strong>&lt;Калибровка Датчика освещенности&gt;</strong>, после калибровки значения отображаются в Люксах/кЛюксах. Пределы измерения от 0,1 Лк до 200 кЛк. Датчик является полностью самодельным и состоит из фоторезистора марки GL5528, корпуса, в качестве корпуса может быть использован колпачек от медицинской иглы или другого подходящего по размерам, двухпроводного кабеля с сечением не меее 0,35 кв.мм и и штекера Jack 3.5 мм на 4 контакта (4 pin). После установки фоторезистора в корпус, его желательно залить прозраной эпоксидной смолой. Один из вариантов исполнения датчка освещенности показан на рисунке 10.</p>
<p><strong>&lt;Вставить ссылку на рисунок&gt;</strong></p>
<p>Рисунок 10. Внешний вид датчика освещенности</p>
<p><strong>7.Датчик концентрации СО2 в воздухе</strong> - предназначен для определения концентрации двуокиси углерода в воздухе (СО2). Датчик построен на базе заводского цифрового NDR модуля SCD30. Для его сборки потребуется напечатанный на 3D принтере корпус (3D модельку корпуса можно скачать вот здесь - <strong>&lt;Ссылка на 3D модель корпуса&gt;</strong>), четырех проводный кабель сечением 0,35-0,5 мм2 и штекер Jack 3.5 мм на 4 контакта (4 pin). Подключение датчика выполняется по интерфейсу i2c, датчик подключается в тот же разъем что и датчик температуры и влажности воздуха. Датчик цифровой, отаклиброван на заводе и начинает отдавать данные уже после подключения его к Вегабоксу. Помимо концентарции СО2 датчик замеряет температуру и влажность воздуха, тем самым сочетая в себе сразу два датчика. Данные концентрации СО2 отображаются в PPM (миллионных долях содержания СО2 в воздухе), пределы измерений: CO2 от 0 до 10 000 PPM, погрешность измерений ±30 PPM; температура воздуха от -40 до + 120 градусов Цельция, погрешность измерений ±0,5 градуса; влажность воздуха от 0 до 100%, погрешность измерений ±2%. Внешний вид датчика показан на рисунке 11. </p>
<p><strong>&lt;Вставить ссылку на рисунок&gt;</strong></p>
<p>Рисунок 11. Внешний вид датчика CO2   </p>
<p><strong>8.Датчик атмосферного давления</strong> - Раздел находиться в разработке</p>
<p>Все датчики за исключением PH электрода идут без разъема, часть датчиков как например DS18B20 идут со своими кабелями. Соответственно на датчики нужно припаять кабели, самый распространненый и недорогой вариант кабеля - КСПВ 4х0,4 (для датчика освещенности PR можно использовать кабель марки КСПВ 2х0,4), а также припаять штекеры Jack 3,5 на 4 контакта (4 pin). Схемы распайки дачиков представлены на Рисунке 12.</p>
<p><strong>&lt;Вставить ссылку на рисунок&gt;</strong></p>
<p>Рисунок 12. Схемы распайки датчиков  </p>
<h2 id="iii">III. Схема, комплектующие и печатные платы</h2>
<p>На текущий момент есть две актуальные схемы <strong>WEGABOX</strong>, их отличие в спосбе сборке и в печатной плате, первая предназначена для самостоятельной сборки на базе платы версии <strong>4.4 fix1</strong> и вторая для заказа на производстве на базе платы версии <strong>5.4.2</strong>, поговорим о них поподробнее.</p>
<p><strong>1.Плата версии 4.4 fix1</strong> - версия платы для самостоятельной сборки, имееет компактные размеры, комплектующие подобраны таким образом, что бы их было удобно устанавливать и заказывать. Помимо основных компонентов отвчающих за подключение и работу датчиков содержит в составе силовую часть для подключения и управления помпами, клапанами, дозатором концентратов удобрений. Силовая часть построена на базе одного расширителя <strong>MCP23017 E/SP</strong> и четырех драйверов <strong>SN754410NE</strong>, что в сумме позволяет подключить одновременно до 4-х шаговых двигателей, до 8 коллекторных двигателей 12В/2А с возможностью управления направлением вращения и до 16 коллекторных двигателей 12В/2А без возможности управления направлением вращения или до 16 реле 12В/2А. На текущий момент программная часть позволяет управлять помпой циркуляции раствора гидропонной установки (подключается к контактам DRV1_A и GND) и помпой/клапаном для долива чистой воды для удержания величины EC (подключается к контактам DRV1_D и GND). Управляющие настройки задаются на Веб странице Вегабокса. Контакты DRV2_A-D и DRV3_A-D предназначены для подключения шаговых двигателей дозера концентратов удобрений, гастройка работы которых также осуществляется через Веб страницу Вегабокса. Контакты DRV1_B, DRV1_C,DRV4_A-D на текущий момент не используются и являются резервыми для развития Вегабокса в будущем. Принципиальная схема Вегабокса версии 4.4 fix1 показана на рисунке 13.</p>
<p><strong>&lt;Вставить ссылку на рисунок&gt;</strong></p>
<p>Рисунок 13. Принципиальная схема Вегабокс 4.4 fix1  </p>
<p>Для сборки Вегабокс 4.4 fix1 потребуется:
- заказать печатную плату (PCB) - заказ можно сделать на <strong><jlcpcb -="" jlcpcb.com=""></jlcpcb></strong> (<strong>&lt;ссылка на архив файла GERBER для заказа платы&gt;</strong>) или другом удобном для вас месте, можно также поспрашивать в чате канала WEGABOX, возможно у кого то есть лишняя плата и он готов будет ею поделиться;
- заказать комплектующие (помимо датчиков) - <strong>&lt;список комплектующих&gt;</strong>;
- приобрести (одолжить, взять в аренду) инструмент - паяльник, припой, флюс, кусачки, пинцет;
- распечатать на 3D принтере (<strong>&lt;Ссылка на 3D модель корпуса&gt;</strong>) или изготовить/доработать корпус для платы.</p>
<p>Порядок и особенности сборки смотри в разделе <strong>IV. Сборка</strong></p>
<p><strong>1.Плата версии 5.4 fix1</strong> - версия платы для заказа сборки на производстве - jlcpcb.com, pcbway.com или аналогичных. По функционалу плата ничем не отличается от Вегабокса версии 4.4 fix1. Для размещения заказа вам потребуется файл печатной платы <strong>&lt;Ссылка на GERBER&gt;</strong> и файл компонентов <strong>&lt;Ссылка на BOM&gt;</strong>. Имейте в виду, что обычно минимальная партия для заказа 5 шт. Принципиальная схема Вегабокса версии 5.4.2 показана на рисунке 13.</p>
<p><strong>&lt;Вставить ссылку на рисунок&gt;</strong></p>
<p>Рисунок 14. Принципиальная схема Вегабокс 5.4.2  </p>
</article>
</div>
</div>
</main>
<footer class="md-footer">
<div class="md-footer-meta md-typeset">
<div class="md-footer-meta__inner md-grid">
<div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" rel="noopener" target="_blank">
      Material for MkDocs
    </a>
</div>
<div class="md-social">
<a class="md-social__link" href="https://github.com/WEGA-project" rel="noopener" target="_blank" title="github.com">
<svg viewbox="0 0 496 512" xmlns="http://www.w3.org/2000/svg"><!--! Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"></path></svg>
</a>
<a class="md-social__link" href="https://t.me/WEGA_SERVER" rel="noopener" target="_blank" title="t.me">
<svg viewbox="0 0 496 512" xmlns="http://www.w3.org/2000/svg"><!--! Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M248 8C111.033 8 0 119.033 0 256s111.033 248 248 248 248-111.033 248-248S384.967 8 248 8Zm114.952 168.66c-3.732 39.215-19.881 134.378-28.1 178.3-3.476 18.584-10.322 24.816-16.948 25.425-14.4 1.326-25.338-9.517-39.287-18.661-21.827-14.308-34.158-23.215-55.346-37.177-24.485-16.135-8.612-25 5.342-39.5 3.652-3.793 67.107-61.51 68.335-66.746.153-.655.3-3.1-1.154-4.384s-3.59-.849-5.135-.5q-3.283.746-104.608 69.142-14.845 10.194-26.894 9.934c-8.855-.191-25.888-5.006-38.551-9.123-15.531-5.048-27.875-7.717-26.8-16.291q.84-6.7 18.45-13.7 108.446-47.248 144.628-62.3c68.872-28.647 83.183-33.623 92.511-33.789 2.052-.034 6.639.474 9.61 2.885a10.452 10.452 0 0 1 3.53 6.716 43.765 43.765 0 0 1 .417 9.769Z"></path></svg>
</a>
</div>
</div>
</div>
</footer>
</div>
<div class="md-dialog" data-md-component="dialog">
<div class="md-dialog__inner md-typeset"></div>
</div>
<script id="__config" type="application/json">{"base": "../..", "features": [], "search": "../../assets/javascripts/workers/search.208ed371.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
<script src="../../assets/javascripts/bundle.51198bba.min.js"></script>
<script>document$.subscribe(() => {const lightbox = GLightbox({"touchNavigation": false, "loop": false, "zoomable": true, "draggable": true, "openEffect": "zoom", "closeEffect": "zoom", "slideEffect": "slide"});})</script></body>
</html>